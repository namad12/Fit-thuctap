<!DOCTYPE html>
<html>
<head>
    <title>Registration Form</title>
    <style>
        h1{
            text-align: center;
        }
        form {
            padding: 25px 60px;
            width: fit-content;
            margin: 0 auto;
            border: 1px solid;
            box-sizing: border-box;
        }
        
        label {
            text-align: end;
            display: inline-block;
            width: 100px;
            margin-bottom: 10px;
        }
        .error{
            width: fit-content;
            color: red;
        }
    </style>

    <script>
        function Validate(){
            var userId = document.getElementById('userid').value;
            var password = document.getElementById('password').value;
            var name = document.getElementById('name').value;
            var address = document.getElementById('address').value;
            var country = document.getElementById('country').value;
            var zipCode = document.getElementById('zipcode').value;
            var email = document.getElementById('email').value;
            var sex = document.querySelector('input[name="sex"]:checked')?.value;
            var language = document.querySelector('input[name="language"]:checked')?.value;
            var about = document.getElementById('about').value;

            document.getElementById('checkS').textContent = sex ? '' : 'Please select your sex';
            document.getElementById('checkL').textContent = language ? '' : 'Please select a language';
            console.log(document.getElementById('checkID'));
            if(userId=='' || password=='' ||name =='' || zipCode =='' || email=='' || sex=='' || language==''){
                alert('Vui long nhap day du thong tin cân thiêt')
            }
            if(userId=='' || (userId.length<5 && userId.length>12)){
                document.getElementById('checkID').textContent='Required and must be of length 5 to 12';
            }
            else{
                document.getElementById('checkID').textContent='';
            }
            if(password=='' || (password.length<5 && password.length>12)){
                document.getElementById('checkPW').textContent='Required and must be of length 5 to 12';
            }
            else{
                document.getElementById('checkPW').textContent='';
            }

            var nameRegex = /^[A-Za-z]+$/; 
            if (!nameRegex.test(name)) {
                document.getElementById('checkN').textContent = 'Required and alphabates only ';
            } else {
                document.getElementById('checkN').textContent = ''; 
            }

            if (country == "none") {
                document.getElementById('checkCt').textContent = 'Select a country';  
            } else {
                document.getElementById('checkCt').textContent = ''; 
            }

            var zipCodeRegex = /^[0-9]+$/; 
            if (!zipCodeRegex.test(zipCode)) {
                document.getElementById('checkZc').textContent = 'Required. Must be nemberic only ';
            } else {
                document.getElementById('checkZc').textContent = ''; 
            }

            var emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/; 

            if (!emailRegex.test(email)) {
                document.getElementById('checkE').textContent = 'Please enter a valid email address';
            } else {
                document.getElementById('checkE').textContent = ''; 
            }

        }
        function onlyOne(checkbox) {
            var checkboxes = document.getElementsByName('language');
            checkboxes.forEach((item) => {
                if (item !== checkbox) item.checked = false;
            });
        }
    </script>
</head>
<body>
    
    <form>
        <h1>Registration Form</h1>
        
        <label for="userid">User ID:</label>
        <input type="text" id="userid" name="userid">
        <label class="error" id="checkID"></label>
        <br>

        <label for="password">Password:</label>
        <input type="password" id="password" name="password">
        <label class="error" id="checkPW"></label>
        <br> 

        <label for="name">Name:</label>
        <input type="text" id="name" name="name">
        <label class="error" id="checkN"></label>
        <br>

        <label for="address">Address:</label>
        <input type="text" id="address" name="address">
        <label class="error" id="checkAdr"></label>
        <br> 


        <label for="country">Country:</label>
        <select id="country" name="country">
            <option value="none">Please select a country</option> 
            <option value="vietnam">Vietnam</option> 
            <option value="usa">USA</option>
        </select>
        <label class="error" id="checkCt"></label>
        <br>

        <label for="zipcode">ZIP Code:</label>
        <input type="text" id="zipcode" name="zipcode">
        <label class="error" id="checkZc"></label>
        <br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email">
        <label class="error" id="checkE"></label>
        <br>

        <label>Sex:</label>  
        <input type="radio" name="sex" value="male"> Male
        <input type="radio" name="sex" value="female"> Female
        <label class="error" id="checkS"></label>
        <br>

        <label>Language:</label>   
        <input type="checkbox" name="language" value="english" onclick="onlyOne(this)"> English
        <input type="checkbox" name="language" value="nonenglish" onclick="onlyOne(this)"> Non-English
        <label class="error" id="checkL"></label>
        <br>

        <label for="about" >About:</label>
        <textarea id="about" name="about" rows="4" cols="50"></textarea><br>

        <button type="button" style="margin-left: 100px;" onclick="Validate()">Submit</button>  

    </form>

    <div>
        <h2>OK, nhưng vẫn còn bị làm theo chưa đúng yêu cầu đề bài</h2>
        <li>trường User Id yêu cầu độ dài từ 5 - 12 ký tự thì nhập 3 ký tự vẫn validate thành công</li>
        <li>trường Password yêu cầu độ dài từ 7 - 12 ký tự thì nhập 3 ký tự vẫn validate thành công</li>
        <li>độ dài của các trường input không đúng, code đang để dài bằng nhau hết, trong khi giao diện ở trong ảnh ở bài tập thì nó có độ dài ngắn khác nhau</li>
    </div>
    
</body>
</html>